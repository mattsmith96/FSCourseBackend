{"version":3,"sources":["components/persons.js","components/personForm.js","components/filter.js","services/people.js","components/notification.js","App.js","index.js"],"names":["Persons","props","filteredPersons","map","person","key","name","number","onClick","deleteFunc","id","PersonForm","onSubmit","addNameHandler","value","newName","onChange","changeNameInput","newNumber","changeNumberInput","type","Filter","filter","changeFilterInput","baseUrl","Axios","get","then","response","data","post","delete","newEntry","put","Notification","message","error","alertStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","messageStyle","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","alertMessage","setAlertMessage","setError","useEffect","console","log","peopleService","includes","event","target","preventDefault","newPerson","some","window","confirm","existingPerson","find","updatedPerson","setTimeout","catch","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ace4f6c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <ul>\r\n      {props.filteredPersons.map((person) => \r\n        <li \r\n          key={person.name}>{person.name} {person.number}\r\n          <button onClick={() => {props.deleteFunc(person.id, person.name)}}>Delete</button>\r\n        </li>)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addNameHandler}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.changeNameInput}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.changeNumberInput}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      Filter Names: <input value={props.filter} onChange={props.changeFilterInput}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import Axios from \"axios\"\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = Axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (name) => {\r\n  const request = Axios.post(baseUrl, name)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n  const request = Axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updateNumber = (id, newEntry) => {\r\n  const request = Axios.put(`${baseUrl}/${id}`, newEntry)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addNew, deleteEntry, updateNumber}","import React from 'react'\r\n\r\nconst Notification = ({message, error}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  const alertStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  const errorStyle = {...alertStyle, color: 'red'}\r\n\r\n  const messageStyle = error ? errorStyle : alertStyle\r\n\r\n  return (\r\n    <div style={messageStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState , useEffect } from 'react'\r\nimport Persons from './components/persons'\r\nimport PersonForm from './components/personForm'\r\nimport Filter from './components/filter'\r\nimport peopleService from './services/people'\r\nimport Notification from './components/notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ alertMessage, setAlertMessage ] = useState(null)\r\n  const [ error, setError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    console.log(\"Effect\")\r\n    peopleService.getAll()\r\n      .then(response => setPersons(response))\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.some((person) => person.name === newName)) {\r\n      if (!window.confirm(`${newName} is already added to the phonebook, replace old number with new one?`)) {\r\n        return\r\n      }\r\n      const existingPerson = persons.find(person => person.name === newName)\r\n      const newPerson = {...existingPerson, number: newNumber}\r\n      peopleService\r\n        .updateNumber(existingPerson.id, newPerson)\r\n        .then(updatedPerson => {\r\n          console.log(updatedPerson)\r\n          setPersons(persons.map(person => person.name !== newName ? person : updatedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setError(false)\r\n          setAlertMessage(`${updatedPerson.name}'s number was updated`)\r\n          setTimeout(() => {\r\n            setAlertMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setError(true)\r\n          setAlertMessage(`${newPerson.name}'s number has already been removed from the server`)\r\n          setPersons(persons.filter(person => person.name !== newPerson.name))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setTimeout(() => {\r\n            setAlertMessage(null)\r\n          }, 5000)\r\n        })\r\n      return\r\n    }\r\n\r\n    peopleService.addNew(newPerson)\r\n      .then(response => {    \r\n        setPersons(persons.concat(response))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setError(false)\r\n        setAlertMessage(`${newPerson.name}'s info was added`)\r\n        setTimeout(() => {\r\n          setAlertMessage(null)\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    console.log(\"Delete person \", id)\r\n\r\n    if (!window.confirm(`Do you want to delete ${name}?`)) {\r\n      console.log(\"Delete cancelled\")\r\n      return\r\n    }\r\n\r\n    peopleService.deleteEntry(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n        setError(false)\r\n        setAlertMessage(`${name}'s info was deleted`)\r\n        setTimeout(() => {\r\n          setAlertMessage(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        setError(true)\r\n        setAlertMessage(`${name}'s number has already been removed from the server`)\r\n        setPersons(persons.filter(person => person.name !== name))\r\n        setTimeout(() => {\r\n          setAlertMessage(null)\r\n        }, 5000)\r\n      })\r\n  \r\n  }\r\n\r\n  const changeNameInput = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const changeNumberInput = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const changeFilterInput = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const filteredPersons = persons.filter((person) => person.name.includes(filter))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={alertMessage} error={error} />\r\n\r\n      <Filter filter={filter} changeFilterInput={changeFilterInput}/>\r\n\r\n      <h3>Add a New Number</h3>\r\n      <PersonForm \r\n        addNameHandler={addName} \r\n        changeNameInput={changeNameInput}\r\n        changeNumberInput={changeNumberInput}\r\n        newName={newName}\r\n        newNumber={newNumber} />\r\n\r\n      <h3>Numbers</h3>\r\n      <Persons filteredPersons={filteredPersons} deleteFunc={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}